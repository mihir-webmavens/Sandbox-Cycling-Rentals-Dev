#!/bin/bash

echo "ğŸ” Checking Laravel Pint formatting..."

# Check if Pint exists
if [ ! -f "./vendor/bin/pint" ]; then
    echo "âŒ Laravel Pint not found!"
    echo "ğŸ‘‰ Run: composer require laravel/pint --dev"
    exit 1
fi

# Run Pint in test mode (does NOT auto-fix)
./vendor/bin/pint --test

STATUS=$?

if [ $STATUS -ne 0 ]; then
    echo ""
    echo "âŒ Code style issues detected!"
    echo "ğŸ‘‰ Please run: ./vendor/bin/pint"
    echo "ğŸ‘‰ Then commit again."
    exit 1
fi

echo "âœ… Code is properly formatted."
exit 0
